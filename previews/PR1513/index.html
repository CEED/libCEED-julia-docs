<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LibCEED.jl Docs</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">LibCEED.jl Docs</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Ceed Objects</span><ul><li><a class="tocitem" href="Ceed.html">Ceed</a></li><li><a class="tocitem" href="CeedVector.html">CeedVector</a></li><li><a class="tocitem" href="ElemRestriction.html">ElemRestriction</a></li><li><a class="tocitem" href="Basis.html">Basis</a></li><li><a class="tocitem" href="QFunction.html">QFunction</a></li><li><a class="tocitem" href="Operator.html">Operator</a></li></ul></li><li><span class="tocitem">Utilities</span><ul><li><a class="tocitem" href="Misc.html">Linear Algebra</a></li><li><a class="tocitem" href="Globals.html">Constants and Enumerations</a></li><li><a class="tocitem" href="Quadrature.html">Quadrature</a></li></ul></li><li><a class="tocitem" href="LibCEED.html">Library configuration</a></li><li><a class="tocitem" href="C.html">Low-level C interface</a></li><li><a class="tocitem" href="UserQFunctions.html">Defining User Q-Functions</a></li><li><a class="tocitem" href="Examples.html">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CEED/libCEED/blob/master/julia/LibCEED.jl/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="LibCEED.jl-Docs"><a class="docs-heading-anchor" href="#LibCEED.jl-Docs">LibCEED.jl Docs</a><a id="LibCEED.jl-Docs-1"></a><a class="docs-heading-anchor-permalink" href="#LibCEED.jl-Docs" title="Permalink"></a></h1><p>Documentation for the LibCEED.jl Julia interface to the <a href="https://github.com/ceed/libceed">libCEED</a> library.</p><p>For further information, see also the <a href="https://libceed.org/">libCEED documentation</a>.</p><p>Several <a href="Examples.html">short examples</a> are included to demonstrate the functionality.</p><h3 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h3><p>The LibCEED.jl package can be installed with Julia&#39;s package manager by running <code>] add LibCEED</code>. This will automatically install a pre-built binary of the libCEED library. If you require features of a specific build of libCEED (e.g. CUDA/GPU support, specific compiler flags, etc.) then you should compile your own version of the libCEED library, and configure LibCEED.jl to use this binary as described in the <a href="index.html#Configuring-LibCEED.jl">Configuring LibCEED.jl</a> section.</p><div class="admonition is-warning"><header class="admonition-header">The pre-built libCEED binaries do not support CUDA backends</header><div class="admonition-body"><p>The pre-built binaries automatically installed by LibCEED.jl (through the <a href="https://juliahub.com/ui/Packages/libCEED_jll/LB2fn">libCEED_jll</a> package) are not built with CUDA support. If you want to run libCEED on the GPU, you will have to build libCEED from source and configure LibCEED.jl as described in the <a href="index.html#Configuring-LibCEED.jl">Configuring LibCEED.jl</a> section.</p></div></div><h4 id="Configuring-LibCEED.jl"><a class="docs-heading-anchor" href="#Configuring-LibCEED.jl">Configuring LibCEED.jl</a><a id="Configuring-LibCEED.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Configuring-LibCEED.jl" title="Permalink"></a></h4><p>By default, LibCEED.jl will use the pre-built libCEED binaries provided by the <a href="https://juliahub.com/ui/Packages/libCEED_jll/LB2fn">libCEED_jll</a> package. If you wish to use a different libCEED binary (e.g. one built from source), LibCEED.jl can be configured using Julia&#39;s <em>preferences</em> mechanism. Note that this preference will be set for the currently active Julia environemnt, and can be different between different environments. The Julia session must be restarted for changes to take effect.</p><pre><code class="language-julia">julia&gt; using LibCEED
julia&gt; set_libceed_path!(&quot;/path/to/libceed.so&quot;)
[ Info: Setting the libCEED library path to /path/to/libceed.so.
[ Info: Restart the Julia session for changes to take effect.</code></pre><p>See the <a href="LibCEED.html">library configuration documentation</a> for more details. For information on Julia&#39;s preferences system, see <a href="https://github.com/JuliaPackaging/Preferences.jl">Preferences.jl</a>.</p><h3 id="Features-of-the-high-level-interface-for-libCEED"><a class="docs-heading-anchor" href="#Features-of-the-high-level-interface-for-libCEED">Features of the high-level interface for libCEED</a><a id="Features-of-the-high-level-interface-for-libCEED-1"></a><a class="docs-heading-anchor-permalink" href="#Features-of-the-high-level-interface-for-libCEED" title="Permalink"></a></h3><h4 id="User-Q-functions"><a class="docs-heading-anchor" href="#User-Q-functions">User Q-functions</a><a id="User-Q-functions-1"></a><a class="docs-heading-anchor-permalink" href="#User-Q-functions" title="Permalink"></a></h4><p>With LibCEED.jl, it is much easier to write dimension-independent user-defined Q-functions that automatically work on the GPU. See the <a href="UserQFunctions.html">related documentation</a> for more information.</p><h4 id="Safe-access-to-CeedVector-objects"><a class="docs-heading-anchor" href="#Safe-access-to-CeedVector-objects">Safe access to CeedVector objects</a><a id="Safe-access-to-CeedVector-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Safe-access-to-CeedVector-objects" title="Permalink"></a></h4><p>When accessing <a href="CeedVector.html#LibCEED.CeedVector"><code>CeedVector</code></a> objects, the C interface requires the user to manually call <code>CeedVectorGetArray</code>, paired with <code>CeedVectorRestoreArray</code>. If the user wants read-only access, then the user must call <code>CeedVectorGetArrayRead</code>, paired with <code>CeedVectorRestoreArrayRead</code>. This can possibly be bug-prone, because the user may forget to restore the array, or may match the <code>Read</code> version to get the array with non-<code>Read</code> version to restore the array (or vice versa).</p><p>In LibCEED.jl, this difficulty is mitigated using the <a href="CeedVector.html#LibCEED.witharray"><code>witharray</code></a> function and <a href="CeedVector.html#LibCEED.@witharray"><code>@witharray</code></a> macro. There are also read-only versions, <a href="CeedVector.html#LibCEED.witharray_read"><code>witharray_read</code></a> and <a href="CeedVector.html#LibCEED.@witharray_read"><code>@witharray_read</code></a>. When using this functionality, it is impossible to forget to restore the array, and the correct version is always paired properly.</p><p>For example, in <code>ex1-volume</code>, the following C code</p><pre><code class="language-c">// Compute and print the sum of the entries of &#39;v&#39; giving the mesh volume.
const CeedScalar *v_host;
CeedVectorGetArrayRead(v, CEED_MEM_HOST, &amp;v_host);
CeedScalar vol = 0.;
for (CeedInt i = 0; i &lt; sol_size; i++) {
  vol += v_host[i];
}
CeedVectorRestoreArrayRead(v, &amp;v_host);</code></pre><p>is replaced with the following equivalent Julia code</p><pre><code class="language-julia"># Compute and print the sum of the entries of &#39;v&#39; giving the mesh volume.
vol = witharray_read(sum, v, MEM_HOST)</code></pre><p>In <code>ex2-surface</code>, the following C code</p><pre><code class="language-c">// Initialize &#39;u&#39; with sum of coordinates, x+y+z.
CeedScalar *u_host;
const CeedScalar *x_host;
CeedVectorGetArray(u, CEED_MEM_HOST, &amp;u_host);
CeedVectorGetArrayRead(mesh_coords, CEED_MEM_HOST, &amp;x_host);
for (CeedInt i = 0; i &lt; sol_size; i++) {
  u_host[i] = 0;
  for (CeedInt d = 0; d &lt; dim; d++)
    u_host[i] += x_host[i+d*sol_size];
}
CeedVectorRestoreArray(u, &amp;u_host);
CeedVectorRestoreArrayRead(mesh_coords, &amp;x_host);</code></pre><p>is replaced with the following equivalent Julia code</p><pre><code class="language-julia">@witharray_read(x_host=mesh_coords, size=(mesh_size÷dim, dim),
    @witharray(u_host=u, size=(sol_size,1),
        sum!(u_host, x_host)))</code></pre><p>The macro version can provide better performance if a closure is required, and allow for convenient reshaping of the vector into equivalently sized matrices or tensors.</p><h3 id="Library-configuration"><a class="docs-heading-anchor" href="#Library-configuration">Library configuration</a><a id="Library-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Library-configuration" title="Permalink"></a></h3><ul><li><a href="LibCEED.html#Library-configuration">Library configuration</a></li></ul><h3 id="Ceed-objects"><a class="docs-heading-anchor" href="#Ceed-objects">Ceed objects</a><a id="Ceed-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Ceed-objects" title="Permalink"></a></h3><ul><li><a href="Ceed.html#Ceed">Ceed</a></li><li><a href="CeedVector.html#CeedVector">CeedVector</a></li><li><a href="ElemRestriction.html#ElemRestriction">ElemRestriction</a></li><li><a href="Basis.html#Basis">Basis</a></li><li><a href="QFunction.html#QFunction">QFunction</a></li><li><a href="Operator.html#Operator">Operator</a></li></ul><h3 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h3><ul><li><a href="Misc.html#Linear-Algebra">Linear Algebra</a></li><li><a href="Globals.html#Constants-and-Enumerations">Constants and Enumerations</a></li><li><a href="Quadrature.html#Quadrature">Quadrature</a></li></ul><h3 id="C-interface"><a class="docs-heading-anchor" href="#C-interface">C interface</a><a id="C-interface-1"></a><a class="docs-heading-anchor-permalink" href="#C-interface" title="Permalink"></a></h3><ul><li><a href="C.html#Low-level-C-interface">Low-level C interface</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="Ceed.html">Ceed »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 13 March 2024 20:05">Wednesday 13 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
